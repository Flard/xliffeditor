# You can find more information about this file on the symfony website:
# http://www.symfony-project.org/reference/1_4/en/10-Routing

# default rules
homepage:
  url:   /
  param: { module: default, action: index }

project_index:
  url:   /projects
  param: { module: project, action: index }

project:
  url:   /projects/:slug
  class: sfDoctrineRoute
  param: { module: project, action: show }
  options: { type: object, model: Project }

resource:
  url:   /projects/:projectSlug/resources/:filename
  class: sfDoctrineRoute
  param: { module: resource, action: show }
  options: { type: object, model: Resource, segment_separators: ['/'] }

resource_add:
  url:   /projects/:slug/resources/add
  class: sfDoctrineRoute
  param: { module: resource, action:add }
  options: { type: object, model: Project }

resource_download:
  url:   /projects/:projectSlug/download/:filename/:lang
  class: sfDoctrineRoute
  param: { module: resource, action: download }
  options: { type: object, model: Resource, segment_separator: ['/'] }

resource_update:
  url:   /projects/:projectSlug/upload/:filename
  class: sfDoctrineRoute
  param: { module: resource, action: update }
  options: { type: object, model: Resource, segment_separators: ['/'] }

resource_translate:
  url:   /projects/:projectSlug/translate/:filename/:lang
  class: sfDoctrineRoute
  param: { module: resource, action: translate }
  options: { type: object, model: Resource, segment_separators: ['/'] }
  requirements:
    sf_method: ['GET', 'POST']
